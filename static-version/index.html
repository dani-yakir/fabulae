<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latin Vocabulary Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 600px;
        }

        .screen {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #welcome-screen {
            text-align: center;
            background: white;
            padding: 60px 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        #welcome-screen h1 {
            font-size: 3rem;
            color: #667eea;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 40px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 50px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-weight: 600;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.6);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            margin-bottom: 30px;
        }

        .card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px;
            text-align: center;
        }

        .card-header h2 {
            color: white;
            font-size: 2.5rem;
            font-weight: 700;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .card-body {
            padding: 40px;
        }

        .card-body h3 {
            color: #667eea;
            font-size: 1.5rem;
            margin-bottom: 20px;
            font-weight: 600;
        }

        #meanings-list {
            list-style: none;
        }

        #meanings-list li {
            background: #f8f9ff;
            padding: 15px 20px;
            margin-bottom: 12px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            font-size: 1.1rem;
            color: #333;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        #meanings-list li:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        #meanings-list li.hidden {
            background: #e0e0e0;
            color: transparent;
            user-select: none;
            border-left-color: #999;
        }

        #meanings-list li.hidden:hover {
            transform: none;
            box-shadow: none;
        }

        #meanings-list li.revealed {
            background: #d4edda;
            border-left-color: #28a745;
            animation: revealAnimation 0.5s ease-in;
        }

        @keyframes revealAnimation {
            from {
                background: #fff3cd;
            }
            to {
                background: #d4edda;
            }
        }

        #game-screen {
            text-align: center;
        }

        .meaning-count {
            font-size: 1.2rem;
            color: #667eea;
            font-weight: 600;
            margin-bottom: 25px;
        }

        .input-section {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        #guess-input {
            flex: 1;
            min-width: 200px;
            padding: 12px 20px;
            font-size: 1rem;
            border: 2px solid #667eea;
            border-radius: 10px;
            outline: none;
            transition: border-color 0.3s;
        }

        #guess-input:focus {
            border-color: #764ba2;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn-secondary {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1rem;
            border-radius: 10px;
            cursor: pointer;
            transition: background 0.3s, transform 0.2s;
            font-weight: 600;
        }

        .btn-secondary:hover {
            background: #5568d3;
            transform: translateY(-2px);
        }

        .btn-secondary:active {
            transform: translateY(0);
        }

        .btn-reveal {
            background: #ffc107;
            color: #333;
            border: none;
            padding: 12px 30px;
            font-size: 1rem;
            border-radius: 10px;
            cursor: pointer;
            transition: background 0.3s, transform 0.2s;
            font-weight: 600;
        }

        .btn-reveal:hover {
            background: #e0a800;
            transform: translateY(-2px);
        }

        .btn-reveal:active {
            transform: translateY(0);
        }

        .message {
            min-height: 30px;
            padding: 12px 20px;
            border-radius: 10px;
            font-weight: 600;
            margin-bottom: 20px;
            transition: all 0.3s;
        }

        .message.success {
            background: #d4edda;
            color: #155724;
            border: 2px solid #28a745;
        }

        .message.error {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #dc3545;
        }

        .message.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 2px solid #17a2b8;
        }

        .meanings-section {
            margin-top: 30px;
        }

        #next-btn {
            width: 100%;
            max-width: 300px;
        }

        @media (max-width: 768px) {
            #welcome-screen h1 {
                font-size: 2rem;
            }
            
            .card-header h2 {
                font-size: 1.8rem;
            }
            
            .card-body {
                padding: 30px 20px;
            }
            
            .input-section {
                flex-direction: column;
            }
            
            #guess-input {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="welcome-screen" class="screen active">
            <h1>Latin Vocabulary</h1>
            <p class="subtitle">Learn Latin through interactive flashcards</p>
            <button id="start-btn" class="btn-primary">Start Learning</button>
        </div>

        <div id="game-screen" class="screen">
            <div class="card">
                <div class="card-header">
                    <h2 id="latin-word"></h2>
                </div>
                <div class="card-body">
                    <p id="meaning-count" class="meaning-count"></p>
                    
                    <div class="input-section">
                        <input type="text" id="guess-input" placeholder="Type your guess..." autocomplete="off">
                        <button id="submit-guess" class="btn-secondary">Submit</button>
                        <button id="reveal-btn" class="btn-reveal">Reveal</button>
                    </div>
                    
                    <div id="message" class="message"></div>
                    
                    <div class="meanings-section">
                        <h3>Meanings:</h3>
                        <ul id="meanings-list"></ul>
                    </div>
                </div>
            </div>
            <button id="next-btn" class="btn-primary">Next</button>
        </div>
    </div>

    <script>
        // Embedded CSV data
        const csvData = `Word$Definition$Part of speech
ā, ab, abs$(away) from, out of$
accipiō$to receive, get, accept$
ad$to, toward; near$
annus, -ī m.$year$
at$but; mind you; but, you say$
atque$and, and also, and even$conjunction
autem$however, moreover$conjunction
brevis, -e$short, brief$
coniciō, -ere, -iēcī$throw together, throw, take oneself$
cōnsilium, -iī n.$plan, advice; council, assembly$
constituō, -ere, -uī, -ūtus$decide, establish, resolve$
cum$with (+ abl.); when, since, although$
dē$down from, from, about, concerning (+ abl.)$
deus, -ī m.$god, divinity, deity$
dīcō, -ere, dīxī, dictus$say, speak, tell, call, name$
dō, dare, dedī, datum$give, put, make; grant, allow$
enim$for, indeed, in truth$
et$and, also, even$
faciō, facere, fēcī, fectum$make, do$
habitō, -āre, -āvī, -ātus$to inhabit, live$
hic, haec, hoc$this, that; he, she, it$
ibi$there, in that place$
igitur$therefore, then, accordingly$
ille, illa, illud$that (famous); he, she, it$
in$in (+ abl.), into (+ acc.)$
insula, -ae f.$island$
ipse, ipsa, ipsum$-self; the very$
is, ea, id$this, that; he, she, it$
lītus, lītoris n.$shore, beach$
māgnopere$greatly, very much$
magnus, -a, -um$great, large, tall; mighty, important$
mare, maris n.$sea$
multus, -a, -um$much, many, abundant$
omnis, omne$every, all$
Perseus, -ī m.$Perseus$
post$after, behind (+ acc.); afterward, next$
postquam$after, when$conjunction
puer, puerī, m.$boy$
quīdam, quaedam, quiddam$certain, a certain$
rēx, rēgis m.$king; adj. ruling, royal$
sē$himself, herself, itself, themselves$
sum, esse, fuī, futūrum$to be$
suus, -a, -um$his, her, its, their (own)$
tamen$nevertheless, however$
tantus, -a, -um$so great, so much, so large$
tempestās, -tātis f.$weather; storm$
tempus, -poris n.$time$
tum$then, at that time$
videō, vidēre, vīdī, vīsum$to see$
volō, velle, voluī$will, wish, be willing$
audiō, audīre, audīvī, audītum$to hear, listen to$
capiō, capere, cēpī, captum$to take, capture, seize$
caput, capitis, n.$head; life$
causa, -ae f.$reason, cause; case$
dum$while, as long as, until$
ē, ex$out from, from, out of (+ abl.)$
etiam$besides, also, even$
homō, -inis$man, mortal, human$
iam$now, already, soon$
locus, -ī m.$place, region, situation; opportunity$
manus, -ūs f.$hand$
modus, -ī m.$way, manner; modo (adv.) only$
monstrum, -ī n.$monster$
per$through, throughout, along$preposition
perveniō, -īre, -vēnī, -ventum$to come through, arrive$
prīmus -a -um$first$
quaerō, -ere, quaesīvī, quaesītum$to seek, ask, inquire$
quī, quae, quod (quis? quid?)$who, which, that$
referō, -ferre, -tulī, -lātum$report, bring back$
rēs, reī, f.$thing, matter, affair, business$
saxum, saxī n.$rock$
species, -ēi f.$sight, look, appearance, aspect$
statim$immediately, on the spot, at once$
tandem$finally, at last, at length, in the end$
ubi$where, when$
ūnus, -a, -um$one$
veniō, -īre, vēnī, ventus$come, go$
per$through, over, across$
animus, -ī m.$soul, spirit, breath, courage, pride$
diēs, -ēī m./f.$day, time, season$
dolor, -ōris m.$pain, grief, anger, passion$
exspectō, -āre, -āvī, -atus$look out for, wait for, await$
fīlia, -iae f.$daughter$
gerō, -ere, gessī, gestus$carry (on), wage$
gravis, -e$heavy, serious, severe; venerable$
iubeō, iubēre, iussī, iussum$to order, command$
mittō, -ere, -mīsī, missum$to send, let go$
parō. -āre, -āvī, -atus$prepare, make (ready)$
perīculum, -ī n.$risk, danger, peril$
subitō$immediately, straightaway$
timor, -oris m.$fear, dread, anxiety$
trādō, -dere, -didī, -ditum$to give over, hand down$
conferō, -ferre$bring together, collect, carry$
corpus, corporis, n.$body$
mox$soon$
nāvis, nāvis, f.$ship, boat$
neque$and not (neque...neque = neither...nor)$
paucī, -ae, -a$little, few, scanty$
regiō, -ōnis f.$region, district$
regnum, ī n.$(royal) power, kingdom, realm$
salūs, -ūtis f.$safety, security, health$
sed$but, moreover, however$
sentiō, sentīre, sēnsī, sēnsum$to feel, perceive$
sine$without (abl.)$
solvō, -ere, solvī, solūtum$to loosen, release$
cognōscō, -ere, -nōvī, -nitum$to learn, [perf.] know$
dīmittō, -ere, -mīsī, -missus$send away, let go$
Hercules, -is m.$Hercules$
pars, partis, f.$part, share$
redeō, -īre, -īvī$go back, return, come back$
urbs, urbis, f.$city$
habeō, -ēre, habuī, -itus$have, hold; consider$
interficiō, -ere, -fēcī, -fectum$kill, slay, destroy$
iter, itineris n.$way, road, journey$
nōn$not, by no means, not at all$
paulus, -a, -um$little, small$
vīs, (vīs), f.$force, power, violence; pl. vīrēs, strength$
vir, virī m.$man, male$
bōs, bovis m. f.$cow, ox, bull (bobus-dat. abl.)$
proficīscor, -ī, -fectus$set out, depart$
Eurystheus, -ī m.$Eurystheus$
possum, posse, potuī$be able, can, avail$
conficiō, -ere$to exhaust, finish, accomplish$
labor, -ōris m.$labor, hardship, task$
nūllus, -a, -um$none, no, no one$
auxilium, -ī n.$help, aid, assistance$
coepī, coepisse, coeptum$begin$
ingēns (ingentis)$huge, immense, vast, huge$
ita$so, thus$
progredior, -gredī, progressus sum$advance$
reliquus, -a, um$remaining, left (over)$
sī$if (only), whether, in case that$
spelunca, -ae f.$cave$
summus, -a, -um$highest, greatest, top of$
vinum, vinī n.$wine$
īdem, eadem, idem$the same$
ēgredior, -ī, -gressus$go out, disembark$
flūmen, -inis n.$river, stream$
ut$as, just as, when (+ ind.); (so) that, in order that$
Iāson, -onis m.$Jason$
Argonautae, -ārum m.$Argonauts$
Mēdēa, -ae f.$Medea$
Ulixēs, -is m.$Ulysses$
Polyphēmus, -ī m.$Polyphemus$
Circē, -ēs f.$Circe$`;

        // Parse CSV data
        function parseCSV() {
            const lines = csvData.trim().split('\n');
            const vocabulary = [];
            
            for (let i = 1; i < lines.length; i++) {
                const parts = lines[i].split('$');
                if (parts.length >= 2 && parts[0].trim() && parts[1].trim()) {
                    const latinWord = parts[0].trim();
                    const definitions = parts[1].trim();
                    const meaningsRaw = definitions.split(';').map(m => m.trim());
                    
                    const meanings = [];
                    for (const meaning of meaningsRaw) {
                        const synonyms = [];
                        const commaParts = meaning.split(',');
                        
                        for (const syn of commaParts) {
                            let synClean = syn.trim().toLowerCase();
                            synClean = synClean.replace(/\s+/g, ' ');
                            synonyms.push(synClean);
                            
                            if (synClean.includes('(') && synClean.includes(')')) {
                                let partial = synClean.replace(/\([^)]*\)/g, '').trim();
                                partial = partial.replace(/\s+/g, ' ');
                                if (partial && !synonyms.includes(partial)) {
                                    synonyms.push(partial);
                                }
                            }
                        }
                        
                        meanings.push({
                            display: meaning,
                            synonyms: synonyms
                        });
                    }
                    
                    vocabulary.push({
                        latin: latinWord,
                        meanings: meanings
                    });
                }
            }
            
            return vocabulary;
        }

        const vocabulary = parseCSV();
        
        // DOM elements
        const welcomeScreen = document.getElementById('welcome-screen');
        const gameScreen = document.getElementById('game-screen');
        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const latinWord = document.getElementById('latin-word');
        const meaningsList = document.getElementById('meanings-list');
        const meaningCount = document.getElementById('meaning-count');
        const guessInput = document.getElementById('guess-input');
        const submitBtn = document.getElementById('submit-guess');
        const revealBtn = document.getElementById('reveal-btn');
        const messageDiv = document.getElementById('message');

        let currentWord = null;
        let revealedMeanings = new Set();

        // Event listeners
        startBtn.addEventListener('click', () => {
            welcomeScreen.classList.remove('active');
            gameScreen.classList.add('active');
            loadNewWord();
        });

        nextBtn.addEventListener('click', () => {
            loadNewWord();
        });

        submitBtn.addEventListener('click', () => {
            submitGuess();
        });

        guessInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                submitGuess();
            }
        });

        revealBtn.addEventListener('click', () => {
            revealAllMeanings();
        });

        // Game functions
        function loadNewWord() {
            if (vocabulary.length === 0) {
                console.error('No vocabulary available');
                return;
            }
            
            currentWord = vocabulary[Math.floor(Math.random() * vocabulary.length)];
            revealedMeanings = new Set();
            
            latinWord.textContent = currentWord.latin;
            meaningCount.textContent = `This card has ${currentWord.meanings.length} meaning${currentWord.meanings.length > 1 ? 's' : ''}`;
            
            meaningsList.innerHTML = '';
            currentWord.meanings.forEach((meaning, index) => {
                const li = document.createElement('li');
                li.textContent = meaning.display;
                li.classList.add('hidden');
                li.dataset.index = index;
                meaningsList.appendChild(li);
            });
            
            guessInput.value = '';
            guessInput.focus();
            messageDiv.textContent = '';
            messageDiv.className = 'message';
        }

        function submitGuess() {
            const guess = guessInput.value.trim().replace(/\s+/g, ' ');
            
            if (!guess) {
                return;
            }
            
            if (!currentWord) {
                return;
            }
            
            const guessLower = guess.toLowerCase();
            let found = false;
            let foundIndex = -1;
            
            for (let idx = 0; idx < currentWord.meanings.length; idx++) {
                const meaning = currentWord.meanings[idx];
                if (meaning.synonyms.includes(guessLower)) {
                    found = true;
                    foundIndex = idx;
                    break;
                }
            }
            
            if (found) {
                if (revealedMeanings.has(foundIndex)) {
                    showMessage('You already guessed this meaning!', 'info');
                } else {
                    revealedMeanings.add(foundIndex);
                    revealMeaning(foundIndex);
                    
                    const remaining = currentWord.meanings.length - revealedMeanings.size;
                    if (remaining > 0) {
                        showMessage(`Correct! ${remaining} meaning${remaining > 1 ? 's' : ''} remaining.`, 'success');
                    } else {
                        showMessage('Perfect! You found all meanings!', 'success');
                    }
                }
                guessInput.value = '';
            } else {
                showMessage('Incorrect. Try again!', 'error');
            }
            
            guessInput.focus();
        }

        function revealMeaning(index) {
            const meaningItem = meaningsList.querySelector(`li[data-index="${index}"]`);
            if (meaningItem) {
                meaningItem.classList.remove('hidden');
                meaningItem.classList.add('revealed');
            }
        }

        function revealAllMeanings() {
            currentWord.meanings.forEach((meaning, index) => {
                if (!revealedMeanings.has(index)) {
                    revealedMeanings.add(index);
                    revealMeaning(index);
                }
            });
            showMessage('All meanings revealed!', 'info');
        }

        function showMessage(text, type) {
            messageDiv.textContent = text;
            messageDiv.className = `message ${type}`;
        }
    </script>
</body>
</html>
